.container.mt-5.max-w-lg
  .card.shadow
    .card-body
      = form_with(model: @team, local: true) do |f|
        .mb-3
          = f.label :name, class: "form-label"
          = f.text_field :name, class: "form-control"
      
        - if current_user.role == "admin"
          - available_team_admins = User.where(role: "team").where.not(id: Team.select(:team_admin_id))
          .mb-3
            = f.label :team_admin_id, "Team Admin", class: "form-label"
            = f.collection_select :team_admin_id,
                                  available_team_admins,
                                  :id,
                                  :fullname,
                                  { prompt: "Select a team admin" },
                                  class: "form-select"

        // - else
        //   = f.hidden_field :team_admin_id, value: current_user.id
      
        .actions
          = f.submit class: "btn btn-primary"
